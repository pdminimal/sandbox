parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"nVjM":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t){var e,s;this.sentence=t,this.current=0,this.characterDoms=[];for(var r=0,n=t;r<n.length;r++){var i=n[r];(a=document.createElement("span")).textContent=i,this.characterDoms.push(a)}this.segments=[],this.segmentDoms=[],this.doms=[];for(var h=/[a-z0-9]+/gi,o=h.exec(t),c=0;o;){var a=document.createElement("span");this.segmentDoms.push(a);var u=o[0].length+o.index;this.segments.push([o.index,u]),(e=this.doms).push.apply(e,this.characterDoms.slice(c,o.index)),this.doms.push(a),a.append.apply(a,this.characterDoms.slice(o.index,u)),c=u,o=h.exec(t)}(s=this.doms).push.apply(s,this.characterDoms.slice(c,this.characterDoms.length))}return t.prototype.getSegmentText=function(){if(this.current<this.segments.length){var t=this.segments[this.current];return this.sentence.slice(t[0],t[1])}return""},t.prototype.getCharDoms=function(){if(this.current<this.segments.length){var t=this.segments[this.current];return this.characterDoms.slice(t[0],t[1])}return[]},t.prototype.getSegmentDom=function(){return this.segmentDoms[this.current]},t.prototype.next=function(){return this.current+=1,this.current<this.segments.length&&this.segments[this.current]},t.prototype.judge=function(t){return this.getSegmentText().toLocaleLowerCase().startsWith(t.toLocaleLowerCase())},t}();exports.Quiz=t;
},{}],"ZCfc":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./quiz");function t(){var t,n,o=2e3,c=document.getElementById("src"),s=document.getElementById("question"),a=document.querySelector("#score .good"),r=document.querySelector("#score .total"),d=document.querySelector("#score .percentage"),i=document.getElementById("status"),u=document.getElementById("cheat"),l=0,m=0;function g(e){void 0===e&&(e=""),i.textContent="Playing...";var c=n.getSegmentDom();c.classList.remove("cursor"),c.classList.remove("waiting"),m+=1,e&&n.judge(e)?e&&(l+=1):c.classList.add("wrong"),a.textContent=""+l,r.textContent=""+m,d.textContent=""+Math.floor(l/m*100),n.next(),(c=n.getSegmentDom())?(c.classList.add("cursor"),t=setTimeout(g,o)):h()}function h(){clearTimeout(t),t=0,i.textContent="Pausing"}u.addEventListener("change",function(){console.log("change event"),[].forEach.call(document.querySelectorAll(".waiting"),function(e){u.checked?e.classList.add("cheat"):e.classList.remove("cheat")})}),document.body.addEventListener("keydown",function(e){"Enter"===e.key?t?h():g():t&&n.judge(e.key)&&(clearTimeout(t),t=0,g(e.key))}),c.addEventListener("change",function(){for(n=new e.Quiz(c.value),l=0,m=0;s.firstChild;)s.firstChild.remove();for(var a=0,r=n.doms;a<r.length;a++){var d=r[a];s.appendChild(d)}for(var i=0,h=n.segmentDoms;i<h.length;i++){(d=h[i]).classList.add("waiting"),u.checked&&d.classList.add("cheat")}n.getSegmentDom().classList.add("cursor"),t=setTimeout(g,o)})}exports.main=t,window.main=t;
},{"./quiz":"nVjM"}]},{},["ZCfc"], null)